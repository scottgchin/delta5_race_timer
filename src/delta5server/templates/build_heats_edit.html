
<div class="row">
	{% for heat in heats.query.with_entities(heats.heat_id).distinct() %}
	<div class='col-xs-6 col-md-3'>
		<div class='panel panel-default'>
			<div class="panel-heading">
				<h4 class="panel-title">{{ heat.heat_id }}</h4>
			</div>
			<table class="table">
				{% for node in range(num_nodes) %}
				<tr>
					<td>
						<div class="channel_{{ node }}"></div>
					</td>
					<td>
						<div class="btn-group">
							<button class="btn btn-default dropdown-toggle heat_{{ heat.heat_id }}_node_{{ node }}" type="button" data-toggle="dropdown"
							 aria-haspopup="true" aria-expanded="true">
								{{ pilots.query.filter_by(pilot_id=
									heats.query.filter_by(heat_id=heat.heat_id,node_index=node).first().pilot_id
									).first().callsign }}
								</button>
							<ul class="dropdown-menu set_pilot_position">
								{% for pilot in pilots.query.all() %}
								<li><a role="button" data-heat="{{ heat.heat_id }}" data-node="{{ node }}" data-pilot="{{ pilot.pilot_id }}">{{ pilot.callsign }}</a></li>
								{% endfor %}
							</ul>
						</div>
					</td>
				</tr>
				{% endfor %}
			</table>
		</div>
	</div>
	{% endfor %}
</div>
